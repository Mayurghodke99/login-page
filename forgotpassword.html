<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set New Password</title>
    <link rel="stylesheet" href="forgotpassword.css">
</head>
<body>
    <div class="main">
        <p id="heading">Set new password for your user ID</p>
        <div class="upper">
            <p id="cred">Username</p>
            <input id="userid" type="text" placeholder="Username">
            <p id="cred">Enter New Password</p>
            <input id='password' type="password" placeholder="New Password">
        </div>
        <div class="lower">
            <button type="button" onclick="setpass()">Submit</button>
            <a id="login" href="login2.html">Log In</a>
        </div>
    </div>

    <script>
        let retrievedData = localStorage.getItem('data');
        let newData = JSON.parse(retrievedData);
        
        console.log(newData);
        function setpass(){
            var inputid = document.getElementById('userid').value
            var inputpass = document.getElementById('password').value
            
            for(var i=0; i<4; i++){
                if(inputid === newData[i].username){
                    newData[i].password = inputpass
                }
            }
            alert("New password accepted!")
            localStorage.setItem('updatedData', JSON.stringify(newData));
            console.log(newData)
        }
        
        //console.log(newData);

        //let retrievedData1 = localStorage.getItem('UpdatedData');
        //let updatedData = JSON.parse(retrievedData1);
        //console.log(updatedData)
        


    </script>
</body>
</html>